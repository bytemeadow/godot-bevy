[gd_scene load_steps=2 format=3 uid="uid://bjsfwt816j4tp"]

[sub_resource type="GDScript" id="GDScript_1"]
script/source = "extends BevyApp


# Bulk Transform Optimization Methods
# Automatically detected by godot-bevy library for performance optimization

func bulk_update_transforms_3d(
  instance_ids: PackedInt64Array,
  positions: PackedVector3Array,
  rotations: PackedVector4Array,
  scales: PackedVector3Array
) -> void:
	var rotation = Quaternion()
	for i: int in range(instance_ids.size()):
		var node: Node3D = instance_from_id(instance_ids[i]) as Node3D
		# Trust instance IDs are valid
		node.position = positions[i]
		# Copy quaternion, avoiding heap allocation
		rotation.x = rotations[i].x
		rotation.y = rotations[i].y
		rotation.z = rotations[i].z
		rotation.w = rotations[i].w
		node.quaternion = rotation
		node.scale = scales[i]

func bulk_update_transforms_2d(
  instance_ids: PackedInt64Array,
  positions: PackedVector2Array,
  rotations: PackedFloat32Array,
  scales: PackedVector2Array
) -> void:
	for i: int in range(instance_ids.size()):
		var node: Node2D = instance_from_id(instance_ids[i]) as Node2D
		# Trust instance IDs are valid
		node.position = positions[i]
		node.rotation = rotations[i]
		node.scale = scales[i]
"

[node name="BevyApp" type="BevyApp"]
script = SubResource("GDScript_1")
